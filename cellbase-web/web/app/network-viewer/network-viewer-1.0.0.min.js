function Region(a){this.chromosome=null,this.start=null,this.end=null,_.isObject(a)?this.load(a):_.isString(a)&&this.parse(a)}function FeatureBinarySearchTree(){this._root=null}function ToolBar(a){_.extend(this,Backbone.Events),this.id=Utils.genId("tool-bar"),this.targetId,this.autoRender=!1,this.zoom=100,_.extend(this,a),this.on(this.handlers),this.rendered=!1,this.autoRender&&this.render()}function EditionBar(a){_.extend(this,Backbone.Events),this.id=Utils.genId("EditionBar"),this.targetId,this.autoRender=!1,_.extend(this,a),this.on(this.handlers),this.rendered=!1,this.autoRender&&this.render()}function NetworkSvgLayout(a){_.extend(this,Backbone.Events),this.id=Utils.genId("networkSvg"),this.bgColor="white",this.scale=1,this.zoom=0,this.canvasOffsetX=0,this.canvasOffsetY=0,this.width,this.height,this.bgColor,this.species,this.parentNetwork,this.scale,_.extend(this,a),this.mode="select",this.createdVertexCount=0,this.network=new Network,this.joinSourceVertex=null,this.selectedVertices=[],this.selectedVerticesHash={},this.on(this.handlers),this.rendered=!1,this.autoRender&&this.render()}function AttributeManager(){_.extend(this,Backbone.Events),this.id=Utils.genId("AttributeManager"),this.dbName="AttributeManager",this._deleteDatabase(),this._createDatabase()}function CircosVertexRenderer(a){_.extend(this,Backbone.Events),this.maxRaidus=35,_.extend(this,a)}function DefaultEdgeRenderer(a){_.extend(this,Backbone.Events),this.shape="directed",this.size=2,this.color="#cccccc",this.strokeSize=2,this.strokeColor="#888888",this.opacity=1,this.labelSize=12,this.labelColor="#111111",_.extend(this,a)}function DefaultVertexRenderer(a){_.extend(this,Backbone.Events),this.shape="circle",this.size=35,this.color="#cccccc",this.strokeSize=1,this.strokeColor="#888888",this.opacity=1,this.labelSize=12,this.labelColor="#111111",_.extend(this,a)}function EdgeConfig(a){this.id,this.renderer,this.type,this.visible,_.extend(this,a)}function Edge(a){this.id=Utils.genId("Edge"),this.name,this.source,this.target,this.weight,this.directed,_.extend(this,a)}function GraphLayout(a){_.extend(this,Backbone.Events),this.id=Utils.genId("GraphLayout"),this.verticesList=[],_.extend(this,a),this.vertices={},this._init(),this.on(this.handlers)}function Graph(a){_.extend(this,Backbone.Events),this.id=Utils.genId("Graph"),this.vertices=[],this.edges=[],this.display={style:{},layouts:{}},this.numberOfVertices=0,this.numberOfEdges=0,this.graphType="",_.extend(this,a),this.verticesIndex={},this.edgesIndex={},this.on(this.handlers)}function NetworkConfig(a){_.extend(this,Backbone.Events),this.id=Utils.genId("NetworkConfig"),_.extend(this,a),this.vertices={},this.edges={},this.general={},this.on(this.handlers)}function Network(a){_.extend(this,Backbone.Events),this.id=Utils.genId("Network"),_.extend(this,a),this.graph=new Graph,this.config=new NetworkConfig,this.attributeManager=new AttributeManager,this.on(this.handlers)}function VertexConfig(a){this.id,this.coords,this.renderer,this.type,this.visible,_.extend(this,a)}function Vertex(a){this.id=Utils.genId("v"),this.name,this.edges=[],_.extend(this,a)}function NetworkViewer(a){_.extend(this,Backbone.Events),this.id=Utils.genId("networkviewer"),this.targetId,this.autoRender=!1,this.sidePanel=!1,this.overviewPanel=!1,this.height,this.width,this.overviewScale=.2,_.extend(this,a),this.toolBar,this.editionBar,this.networkSvgLayout,this.contextMenu,this.rendered=!1,this.autoRender&&this.render()}var Utils={characters:"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",formatNumber:function(a){return a.toString().replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,")},formatText:function(a,b){return a=a.replace(new RegExp(b,"gi")," "),a=a.charAt(0).toUpperCase()+a.slice(1)},isFunction:function(a){return"function"==typeof a||a instanceof Function},parseDate:function(a){return a.substring(0,4)+" "+a.substring(4,6)+" "+a.substring(6,8)+", "+a.substring(8,10)+":"+a.substring(10,12)+":"+a.substring(12,14)},genId:function(a){return a=a||"",a=0==a.length?a:a+"-",a+this.randomString()},randomString:function(a){a=a||10;for(var b="",c=0;a>c;c++)b+=this.characters.charAt(this.getRandomInt(0,this.characters.length-1));return b},getRandomInt:function(a,b){return Math.floor(Math.random()*(b-a+1))+a},endsWithIgnoreCase:function(a,b){var c=new RegExp("^.*\\.("+b+")$","i");return c.test(a)},endsWith:function(a,b){var c=new RegExp("^.*\\.("+b+")$");return c.test(a)},addQueryParamtersToUrl:function(a,b){var c="?";-1!=b.indexOf("?")&&(c="&");var d="";for(var e in a)null!=a[e]&&(d+=e+"="+a[e].toString()+"&");return""!=d&&(d=c+d.substring(0,d.length-1)),b+d},randomColor:function(){for(var a="",b=0;6>b;b++)a+=[0,1,2,3,4,5,6,7,8,9,"a","b","c","d","e","f"][Math.floor(16*Math.random())];return"#"+a},colorLuminance:function(a,b){a=String(a).replace(/[^0-9a-f]/gi,""),a=String(a).replace(/#/gi,""),a.length<6&&(a=a[0]+a[0]+a[1]+a[1]+a[2]+a[2]),b=b||0;var c,d,e="#";for(d=0;3>d;d++)c=parseInt(a.substr(2*d,2),16),c=Math.round(Math.min(Math.max(0,c+c*b),255)).toString(16),e+=("00"+c).substr(c.length);return e},getSpeciesFromAvailable:function(a,b){for(var c=0;c<a.items.length;c++)for(var d=a.items[c].items,e=0;e<d.length;e++){var f=d[e];if(this.getSpeciesCode(f.text)==b)return f}},getSpeciesCode:function(a){var b,c=a.split(" ");return b=c.length<3?(c[0].charAt(0)+c[1]).toLowerCase():(c[0].charAt(0)+c[1]+c[c.length-1].replace(/[/_().\-]/g,"")).toLowerCase()},test:function(){return this},cancelFullscreen:function(){document.cancelFullScreen?document.cancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen&&document.webkitCancelFullScreen()},launchFullScreen:function(a){a.requestFullScreen?a.requestFullScreen():a.mozRequestFullScreen?a.mozRequestFullScreen():a.webkitRequestFullScreen&&a.webkitRequestFullScreen()},parseJobCommand:function(a){var b={},c=a.commandLine.split(/ -{1,2}/g),d='<table cellspacing="0" style="max-width:400px;border-collapse: collapse;border:1px solid #ccc;"><tbody>';d+='<tr style="border-collapse: collapse;border:1px solid #ccc;font-weight:bold;">',d+='<td style="min-width:50px;border-collapse: collapse;border:1px solid #ccc;padding: 5px;background-color: whiteSmoke;">Parameter</td>',d+='<td style="border-collapse: collapse;border:1px solid #ccc;padding: 5px;background-color: whiteSmoke;">Value</td>',d+="</tr>";for(var e=1;e<c.length;e++){var f=c[e],g=f.split(/ {1}/g),h="",i="";g.length<2?(h=g[0],i="<span color:darkgray;font-weight:bold;>This paramenter is a flag</span>"):(h=g[0],i=g[1]),b[h]=i,i=i.replace(/\/httpd\/bioinfo\/opencga\/analysis\/.+\/examples\//,""),i=i.replace("/httpd/bioinfo/opencga/accounts/",""),i=i.replace(/,/g,", "),d+='<tr style="border-collapse: collapse;border:1px solid #ccc;">',d+='<td style="border-collapse: collapse;border:1px solid #ccc;padding: 5px;background-color: whiteSmoke;color:steelblue;font-weight:bold;white-space: nowrap;">'+h+"</td>",d+='<td style="border-collapse: collapse;border:1px solid #ccc;padding: 5px;background-color: whiteSmoke;">'+i+"</td>",d+="</tr>"}return d+="</tbody></table>",{html:d,data:b}}};Utils.images={add:"data:image/gif;base64,R0lGODlhEAAQAIcAAD2GNUKNNkOPOESMO0WNPEmPP0iNQUmPQlOVTFWWTVCZQVeeRV6cVmGeWGSgVWSgV2aiWGejW2WrVWirU2uqWGqsW2yqWm61WG+1WG+1WXS3W3S3XHC4WXK5W3O6XHG+X3asZ3iuaHe8YHi0ZH+yany6ZH28Zn2+Z3m9bn25an25a3+5bUD/QHDBY3nBZHrGa3zDa37BaX7Hb4K1boO1boa3cYi4d4y7doq5eYm+eI2+e5O/f4HMdYbJeobJfIXNeYrCeY/CfYnIf4rPfZW/gozLgY7MhI7Sg5LFgJXAgpfHhZfMhZPNiJjLhpjMh5jMipvBl5vBmJTTipbTiZXUipbUi5fVi5nRi53YkqTOlKbPlqbQlqDZlaDZlqXbm6rUnavUnKbIoKfJoa/fpa/fprPZpbTZpbTaprLbqLPdqbXbqLfaqrTdqrXfrLbdrLjVr7jdr7vcr7rWsbfgr77itr3ktsTcuMXducXowMvmw87pydTrz9fu0tzx2ODy3P///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAMAACwALAAAAAAQABAAAAi/AFkIHEiwoME7SWrMwCHH4MAdWfLs0QNnRQiHN+L4qeOlyxg8QCAU3LGmDxYmRqpQOTJHRYSBdpTw4SJFyJ8/P2DIaLNAjEAibsgU8YHiZgURHq4gaSCQBh0rPW5K/cMhxpcCAkmkGcJj6k0OJ8AMEGjjyZQXLSR85dBhiY4EAt9MYOPig4ivFzacEQBlIIgUaJByyIBBQxkLBwo6GKHGiYkSTcxQAODwgYIgW7TkCGDAocAwDAoQQBDFs2mCAQEAOw==",del:"data:image/gif;base64,R0lGODlhEAAQAIcAAED/QLpSNL9TOr5WOb5cQL9cQMFNM8RQNMBVPcBZP8xSPNBPPttWS9ddUcJnTMRkTMdrVM1gUc5iVMxmVclrVs1oWNZgVNZuZNtpZdxraN5ratxuadRxZd14c955dOZWTOZYTOZZTulZTelbT+ZWUOZaUuddWepcUOxfVOBlXO5mUuljW+pmXO5qXvBkVvNzXeNrYeNuY+FvcOJwZuJ7deR4ceJ5eeN4eeJ/feN/fOl7cOh6del/ePJ3Y/N5Y+qDfe6Efe+Gfu6KdfaCaPaEbPCFcPCDe/CMd/GOeviGcPiMdvCRf/eRfveTfvmSfvqTf/iUf9ymltynl+6Mge2Tju6Sj/SOgfqah/qdi/GclvGdluGpnvSgnvSinvWjn/qjkfupnPqrneGroOqwrOuzr/Ono/WmoferofarovWsofWvpfKtqvivpPS0qvi2qPm5r/q6rvC1tfC2tvjDvvzHuvnLxPnTzPzUzf3b1P3c2P///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAMAAAAALAAAAAAQABAAAAi6AAEIHEiwoEE5ODRk8EDG4EAbVObYqdNmxgWHMtbkgfMFCxg6OiQUvFEGz5UlSKA4UeImRoWBcX7cwdJECJGbRHywWSBGYA41YY6gGEq0hxUeFARuePOkiJ6nUEW00IJAIIYzSYZAjcoiywCBHaYweSGirNkRRmg8EDiGARoXKsyKAFHCy4EoAznASIPihIgQH0h0sVCgYIQUZoKsMAGES4MADico2FGlSg0DBBwK3AIhgQAHUjSLJhgQADs=",enable:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAKfSURBVDjLpZPrS1NhHMf9O3bOdmwDCWREIYKEUHsVJBI7mg3FvCxL09290jZj2EyLMnJexkgpLbPUanNOberU5taUMnHZUULMvelCtWF0sW/n7MVMEiN64AsPD8/n83uucQDi/id/DBT4Dolypw/qsz0pTMbj/WHpiDgsdSUyUmeiPt2+V7SrIM+bSss8ySGdR4abQQv6lrui6VxsRonrGCS9VEjSQ9E7CtiqdOZ4UuTqnBHO1X7YXl6Daa4yGq7vWO1D40wVDtj4kWQbn94myPGkCDPdSesczE2sCZShwl8CzcwZ6NiUs6n2nYX99T1cnKqA2EKui6+TwphA5k4yqMayopU5mANV3lNQTBdCMVUA9VQh3GuDMHiVcLCS3J4jSLhCGmKCjBEx0xlshjXYhApfMZRP5CyYD+UkG08+xt+4wLVQZA1tzxthm2tEfD3JxARH7QkbD1ZuozaggdZbxK5kAIsf5qGaKMTY2lAU/rH5HW3PLsEwUYy+YCcERmIjJpDcpzb6l7th9KtQ69fi09ePUej9l7cx2DJbD7UrG3r3afQHOyCo+V3QQzE35pvQvnAZukk5zL5qRL59jsKbPzdheXoBZc4saFhBS6AO7V4zqCpiawuptwQG+UAa7Ct3UT0hh9p9EnXT5Vh6t4C22QaUDh6HwnECOmcO7K+6kW49DKqS2DrEZCtfuI+9GrNHg4fMHVSO5kE7nAPVkAxKBxcOzsajpS4Yh4ohUPPWKTUh3PaQEptIOr6BiJjcZXCwktaAGfrRIpwblqOV3YKdhfXOIvBLeREWpnd8ynsaSJoyESFphwTtfjN6X1jRO2+FxWtCWksqBApeiFIR9K6fiTpPiigDoadqCEag5YUFKl6Yrciw0VOlhOivv/Ff8wtn0KzlebrUYwAAAABJRU5ErkJggg==",warning:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAIsSURBVDjLpVNLSJQBEP7+h6uu62vLVAJDW1KQTMrINQ1vPQzq1GOpa9EppGOHLh0kCEKL7JBEhVCHihAsESyJiE4FWShGRmauu7KYiv6Pma+DGoFrBQ7MzGFmPr5vmDFIYj1mr1WYfrHPovA9VVOqbC7e/1rS9ZlrAVDYHig5WB0oPtBI0TNrUiC5yhP9jeF4X8NPcWfopoY48XT39PjjXeF0vWkZqOjd7LJYrmGasHPCCJbHwhS9/F8M4s8baid764Xi0Ilfp5voorpJfn2wwx/r3l77TwZUvR+qajXVn8PnvocYfXYH6k2ioOaCpaIdf11ivDcayyiMVudsOYqFb60gARJYHG9DbqQFmSVNjaO3K2NpAeK90ZCqtgcrjkP9aUCXp0moetDFEeRXnYCKXhm+uTW0CkBFu4JlxzZkFlbASz4CQGQVBFeEwZm8geyiMuRVntzsL3oXV+YMkvjRsydC1U+lhwZsWXgHb+oWVAEzIwvzyVlk5igsi7DymmHlHsFQR50rjl+981Jy1Fw6Gu0ObTtnU+cgs28AKgDiy+Awpj5OACBAhZ/qh2HOo6i+NeA73jUAML4/qWux8mt6NjW1w599CS9xb0mSEqQBEDAtwqALUmBaG5FV3oYPnTHMjAwetlWksyByaukxQg2wQ9FlccaK/OXA3/uAEUDp3rNIDQ1ctSk6kHh1/jRFoaL4M4snEMeD73gQx4M4PsT1IZ5AfYH68tZY7zv/ApRMY9mnuVMvAAAAAElFTkSuQmCC",edit:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAB80lEQVR42o2T30tTURzArb8ioiAI6kHoZeF7CGE/IISCUDNCqAeL3rIWPfSwByskYUEJIhSChBhJFAiNqMVYPqRuc4tcW3NLt3C7u3d3d3c/+nS+0GRK0134cC6c8/ncc+7ltgFt6jqgcCg6duGQYq84deoBR6lU0iqVSq1arfI/1Dxut3u0Htke6BC5UChgmuYm+XyeXC5HOp1GIsnQNJHJi3x/7WJh/CSLT9r7Rd4jAVlgWRa2bSOjYBgGmqaRyWQwkq9Y8wyhLb0BI0VuaRrfo671xoDIwmakWCyi6zrr36bILt/HXp1l7cNDioEZqnEvgYmr1paAOgYy1u/l3NrqHNngPWpFL8XodTa+3CD8YoCvz/o078i5o1sC29FT78kG7lCzfJgrl7ESvejLThLPuxk8fbhP3KaBVFCdeX7on9yP9bOHfPAu0bEzmKkg4jQNpEKzhOduqW1/xIoNUEpcQlM7WXl6Cj39Q9Y0D4Q/TRJ662Tx3WOS/guYsV42Fm4THe/G/B2T97Jz4OVwJ+hxImPn8Tj381k91TfShfErIvLuAde1Y9g+N7Z/FL/rBDODR8gmgpTL5To7B3o69zF8pR3Pg7PMT90kn47LJ22kaeCPghapidP4Lxy3bduUiVZktdaQH7AxcFAiUm0Rhzji/gUhbp0s2Zf2xwAAAABJRU5ErkJggg==",info:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAJ1SURBVHjafJJdSJNhFMd/z3QzLWdZrnQmSA2DPqRCK4KuhIq66kLoAy/qoqCguqqL6JsgLwoKKhCMSIy6CDKKRFZZYYQRVhJl02nWmG5uc19u7/vuPV0lW7QOnIsHnt+P8z/Pg4gw26aZ0263uzEUCn2IxWJjXq/3JqBETLIZ8gkePLhfKyKy/Z5HHJf7xe0Jic/n65mejizPK0inUiSTKUSE0dHRhxf6JoSDb4Rjr4QDz0REJBgMtmczFrJKKYVSCjCYnPR/W1FuAwQSGjbHXAA0LRXKZnIm0NJpgAKvd/hSOBz2iIj0eiPS2vtDYsmUPH/uPg9YshklIrOyCb+/eUG5ve3au5C99W2AqGbgKivk8R4X1lSkv2pJZaNmmBQVWWeZnAiGoa+3KovdyBjsW2kn/SvK4Jcgtaf7cDqrGkQMUDkBcgXVS2tOHjp8dG2jOXT1yo5lYOpgFTB0wKTAOqdQMlqOoDD7EE8kREwGXr/oWTg4HjxONAklBayuKSUeT/hFTxrwnwlAMa8I1qyrP3H95RiQgUiC/RsWM+wZ6jIME0M38wtSM0mmojM4nc6mzr5xKDQgnWb/pmoedT29EU3pTMUS+QVKKerq6kqnI3EVHwmAplO8qBh7WTFnzpz9bOg6FovlfxGEixfOrfT6YxCOQ1rDUaIAG4EJ38+PAwNb/95Bzj8ITAZwLHbMT0yHw3N33YVwEnQDqss41VzPkaalX6Iz+m6Xy/Xp34JAAICR7187nLWuvbe6h9C0DA2uRTTVV9J++87OlpaWJxUVFf9+xj+1cfOWls6OO93Nq1zblMVm9flG3pcvXNPm90+E/777ewB+UIqdqtYXHAAAAABJRU5ErkJggg==",bucket:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QkQDC8RTstxRAAAAGBJREFUOMtjYBgswIWBgeE/idiFgYGBgRFqwH8GBoYGEi1tYGBgYGRBE9QjUvMlGANmgCsDA8NuElzRANXDwAQV2ENGuO1BNoBsMGoAlQ3wJTIdNEDVYgU+ROQBH6rmQgAWgB19xco60wAAAABJRU5ErkJggg==",dir:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QkQDBgWQKhE0wAAADRJREFUOMtjYBhowMjAwPCfCDU4AQuUNsQhf54aLmAgxgW9ZOovZqI0EEcNGBYGUJwSKQYAJoEFGqo9ooAAAAAASUVORK5CYII=",r:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB90CDRIvNbHTpbwAAADjSURBVDjLpZFBbsIwEEUfVRZYahcVK3qKXoauMFK5C91nkyUB+xC5BqeAA7SKq1B5ugl2EiC04UkjayzN17NnROTRWvvJFbTWL8CBHqbGWOlSlqVkWSbGWAGm3aGHZiMiAByPP6FOd1rP2W7NvhvSCvDe10E+VJPFQpPnm1ZIcsmgPgJVVZGmaejX63y/XL4/AV/JJYPTCeDcN7PZWyuwKAqA8wARqSsGKDVGqXGjV8H07AnRQPq21TK8+YSBAQMN4hb6Df7wB/5eA+4zmEyehxk451itPrhFksSxUeP+lf+z+wXwdayJk/mqtgAAAABJRU5ErkJggg==",box:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wMHAwRAVvTmTAAAAK/SURBVDjLpZM9bFxFGEXPNzPvZ+39sb2xHceREjDQBwlDCqqIiiotokAghYKEjvSkQkKJkEiB0lOkoAHaBAokFCQKUATIIOLIMbHWrHfX+7zvvZk3MzQODUgU3PJK5+g2F/5n5N/Kb66/1NNK3hAxr4HcFqVuvfju18V/Cu58sPmMVnJZ4K32Qr+t8za+KnCz4kCUuiGibm5euTv5h+CL958/nxj1XivVF+e6C9TVhPmFdbROgEhwNU1d4m09UaJuInLjhct3DgDUh5ee7j14PLxulLvYP/0seadPkub88Wib0eB3bDkmxgbRoFPpxeCuKvjsyQIzOyqImT7/y8Mh++NveW7jLFmrx6m1NlWxz6PHA7otQ7tloAmYJE9isOeeCJRtIrULLLUTjsqG7+//xs72z7jZgCTNONlVJKEiuobW0jqSaoiet19dFQATJcc2FSFEciNoLYwOHcPDASvdjM5cQntxlbR9gqacoFSK84VsnOrkH11Zdmp0FFXjobSeCFgXSDS0Eo11ge7yGXSaU092UUlCaEpC8FK4tDcu4rzZ2a/S+bWI94HSAgFigDQD24Cvp4gIOp0juBJvC2L07B1Uc/Mtg9k7sHMbywZrA3lLECV4AtaCpAp79CcmzXHlhOBrAJrGyNbOVBY7qTO1C9r5EKyPSttAiJEs01SuQStFkrdp6gKd5AzHjixVxCDxp+1paZRUxoc4Kp36bndYbS53U5WlCq0CMYIPMY7GI0mNpiqmGK0oK4jIveGkPgRqfTBt3A8Pqtvrq52HtglnGh9XIaKUkCQ6nj6RyWBsmdXCtFI/bu2Fq5c+3roGzIAgWokCDNACOhfOLb781Ip+vd+RC2dXWibROkxKvvp1z376yZe7d4HpMdz8/YVjiQYyoA30Ti6la2++0n/n83vTW/e3ix1gcgzXgPchBoC/AFu/UBF5InryAAAAAElFTkSuQmCC",bluebox:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wMHAwTE5pcivoAAALsSURBVDjLXZPPaxxlGMc/77wz+3N2k822tWsTIrQFe/BWEKxKCV5UohdFhJ60p6rgUfpP6C0K4kHx0ENEkV7aElHwUikhFVosRGoTm83+3pnZnXfed2beHtItIQ98+Z6+H57nga8AsNYKDkYcEofcHvKZEEJYcSTszPzqL3fmf3+w/+a51tytby9d6D0N5UecGeBZ8MPv/jh9fy/6dKzMpVPHmvWdbl/XCvKn5Wbl6+ufrNwGssMgYa2VgFj58sZr7VB/LqX3zlKrydJzTTzXxdqcx90hO+0Bk2l8Z74i1z6+cOba5VfOqGeAb3579M/NR53T40xwrDGHFALPEUjn4LoMi0ktwWTKXqCIqAVrbyycvHj2hHYBR+bO8Q/Ov0imEzZ2xrRDRalQwC9LLBalUgaJQy+tU6gvIBJbv3j2RA4IFxDdICFa9ulMCrz/UgOs5kEwpeh57I4Nt/dzsmLOYlEThgFjUePp33IHoD9SJAbuTVyudRweixJvnVtg3/i00wpLPiwQ0hkO6YYKawWj0UjONqAfKHwDkxTqqeW/RHA3hO2+Zqk05e5wTD9KmOqMKDEUqoLNzU0PyF2AQaBoaIhiw0h6TIwgUDCODb5NiWJNlKREyhAozXwOW1tbFSmlcAHbD2KaytCdGgyWglfEs4LeNKeaa4axYRgpwlgTTTXVDDqdTslaewAYh4kNlKUbZsTGonOwCYwm1vq5Ft1AMYgU08SQR5o0gziOcRxHuoCNtdl6uPHX6/Vmi3Yyh9I5IoEgMdkgT9x+qJhEGrdQo77cJMuy+4DJskwLa60DOCtf3HhZpfZKtVx+L3x+sfCv8CFxTINd72HfodQ4aQp5fP24/v/Hd4Nf/5RSJmma6lkXZn1wPvvq5qndsbhS9esf/Zy/UEtzxnURfn8+/fuHV7m353mecV1XSym1lDI72kaxvr5e3N7eruyP0tpG/e3LK/rW2mLNUb7vm3K5nFarVdNqtbJer2dXV1fzJ6cDpboAZRAGAAAAAElFTkSuQmCC",refresh:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAAK8AAACvABQqw0mAAAAAd0SU1FB90CFA8bKScXIjIAAAJ1SURBVDjLlVJdSJNRGH7es+/7NlduWFLTKAskwjJqZYiBglJhLKguqou6EFkFIkLQH9IPBFI3BsouzMJupGYRajcqmeBFhWBU5oUgpZikrSnzZ9v3nW/ndKEbziXUAwfOOe/7Puc9z/MCq1DwMmB1NX/rzfCNnsc/gK08lPgnnT8Cs33BULg0HI4YKdkHX9DqKwKArXXv1bTMTFcoyruC89E8MxaDw659t6rKhIUwRBLdP2t2v/5bBwQA+5pH8ibnIj3BucgWIQRASw8RERTGYFUtsGmWYUXKmqmr7t4UAnal54GQ8lq8MBlyOU0CEnA67MiwqfvHbhZ+Smgg6o9eV2L8Nhk6wI2lZeggrpvE+TTjxgxxQ4IbmJsJYSa00JQiotnguacJ8zIZOmDosAnzTpowt8tGj0s0ejZqprnDKmPHSNebjHDkUPatt4cTTbZ+LsmO79XK52dZxTNp9/ovAEDnaM62lo8HHrd9SVfiOelVryrSq9vrEx0s8sW2tuEzDgDgT875bcIsjy6owwAwHhjnYT5bGTL29PiHyuwAMO873aL/Ct5PiPjwXe5vq7KJW2hdJxENMFInGCkhIblLj80WRoyxGxZmh1XJGlSIlV8s6A8kuVDXn+MF6JHC7GBkBSNlOSRgiihMsQhAgJGGNNU1atc2HPG6O8YSBABwt2/nGyFlGSCSB4UIBMuyoQKMFNiUjIApRH5t8YfpFOOrO/JrhZBVUiJLxq2ipIkY8Z36uivpC6txqb3YbhqhIingFlLmxmLSKyXAGAaYqh13aFjfcHJwfE2ClSitK9psc85PMVC3M999orX4Kcf/wuPb27VW7A+O2QVVA1M1CQAAAABJRU5ErkJggg==",newitem:"data:image/png;base64,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"},Utils.genBamVariants=function(a,b,c,d){for(var e=a.length,f=b/6,g="",h=0;e>h;h++){switch(a.charAt(h)){case"A":g+="M"+(2.5*f+c)+","+d+"l-"+2.5*f+","+6*f+"l"+f+",0l"+.875*f+",-"+2*f+"l"+2.25*f+",0l"+.875*f+","+2*f+"l"+f+",0l-"+2.5*f+",-"+6*f+"l-"+.5*f+",0l0,"+f+"l"+.75*f+","+2*f+"l-"+1.5*f+",0l"+.75*f+",-"+2*f+"l0,-"+f+" ";break;case"T":g+="M"+(.5*f+c)+","+d+"l0,"+f+"l"+2*f+",0l0,"+5*f+"l"+f+",0l0,-"+5*f+"l"+2*f+",0l0,-"+f+" ";break;case"C":g+="M"+(5*f+c)+","+(0*f+d)+"l-"+2*f+",0l-"+1.5*f+","+.5*f+"l-"+.5*f+","+1.5*f+"l0,"+2*f+"l"+.5*f+","+1.5*f+"l"+1.5*f+","+.5*f+"l"+2*f+",0l0,-"+f+"l-"+2*f+",0l-"+.75*f+",-"+.25*f+"l-"+.25*f+",-"+.75*f+"l0,-"+2*f+"l"+.25*f+",-"+.75*f+"l"+.75*f+",-"+.25*f+"l"+2*f+",0 ";break;case"G":g+="M"+(5*f+c)+","+(0*f+d)+"l-"+2*f+",0l-"+1.5*f+","+.5*f+"l-"+.5*f+","+1.5*f+"l0,"+2*f+"l"+.5*f+","+1.5*f+"l"+1.5*f+","+.5*f+"l"+2*f+",0l0,-"+3*f+"l-"+f+",0l0,"+2*f+"l-"+f+",0l-"+.75*f+",-"+.25*f+"l-"+.25*f+",-"+.75*f+"l0,-"+2*f+"l"+.25*f+",-"+.75*f+"l"+.75*f+",-"+.25*f+"l"+2*f+",0 ";break;case"N":g+="M"+(.5*f+c)+","+(0*f+d)+"l0,"+6*f+"l"+f+",0l0,-"+4.5*f+"l"+3*f+","+4.5*f+"l"+f+",0l0,-"+6*f+"l-"+f+",0l0,"+4.5*f+"l-"+3*f+",-"+4.5*f+" ";break;case"d":g+="M"+(0*f+c)+","+(2.5*f+d)+"l"+6*f+",0l0,"+f+"l-"+6*f+",0l0,-"+f+" ";break;default:g+="M0,0"}c+=b}return g};var SVG={create:function(a,b){var c=document.createElementNS("http://www.w3.org/2000/svg",a);for(var d in b)c.setAttribute(d,b[d]);return c},addChild:function(a,b,c,d){var e=document.createElementNS("http://www.w3.org/2000/svg",b);for(var f in c)e.setAttribute(f,c[f]);return this._insert(a,e,d)},addChildImage:function(a,b,c){var d=document.createElementNS("http://www.w3.org/2000/svg","image");for(var e in b)"xlink:href"==e&&d.setAttributeNS("http://www.w3.org/1999/xlink","href",b[e]),d.setAttribute(e,b[e]);return this._insert(a,d,c)},_insert:function(a,b,c){if(null==c)a.appendChild(b);else{var d=c+1;0==c&&(d=0);var e=a.childNodes[d];e?a.insertBefore(b,e):a.appendChild(b)}return b},init:function(a,b){return this.addChild(a,"svg",b)},_polarToCartesian:function(a,b,c,d){var e=(d-90)*Math.PI/180;return{x:a+c*Math.cos(e),y:b+c*Math.sin(e)}},describeArc:function(a,b,c,d,e){var f=this._polarToCartesian(a,b,c,e),g=this._polarToCartesian(a,b,c,d),h=180>=e-d?"0":"1",i=["M",f.x,f.y,"A",c,c,0,h,0,g.x,g.y].join(" ");return i}};Region.prototype={load:function(a){return _.isString(a)?this.parse(a):(this.chromosome=a.chromosome||this.chromosome,this.chromosome=this.chromosome,this.start=_.isUndefined(a.start)?parseInt(this.start):parseInt(a.start),this.end=_.isUndefined(a.end)?parseInt(this.end):parseInt(a.end),void 0)},parse:function(a){_.isObject(a)&&this.load(obj);var b=/^([a-zA-Z0-9_])+\:([0-9])+\-([0-9])+$/,c=/^([a-zA-Z0-9_])+\:([0-9])+$/;if(b.test(a)||c.test(a)){var d=a.split(":");if(2==d.length){var e=d[1].split("-");this.chromosome=d[0],this.start=parseInt(e[0]),this.end=2==e.length?parseInt(e[1]):this.start}return!0}return!1},center:function(){return this.start+Math.floor(this.length()/2)},length:function(){return this.end-this.start+1},toString:function(a){var b;return b=1==a?this.chromosome+":"+Utils.formatNumber(this.start)+"-"+Utils.formatNumber(this.end):this.chromosome+":"+this.start+"-"+this.end}},FeatureBinarySearchTree.prototype={constructor:FeatureBinarySearchTree,add:function(a){var b,c={value:a,left:null,right:null};if(null===this._root)return this._root=c,!0;for(b=this._root;;)if(c.value.end<b.value.start){if(null===b.left)return b.left=c,!0;b=b.left}else{if(!(c.value.start>b.value.end))return!1;if(null===b.right)return b.right=c,!0;b=b.right}},contains:function(a){for(var b={value:a,left:null,right:null},c=!1,d=this._root;!c&&d;)b.value.end<d.value.start?d=d.left:b.value.start>d.value.end?d=d.right:c=!0;return c}},ToolBar.prototype={render:function(a){var b=this;if(a&&(this.targetId=a),$("#"+this.targetId).length<1)return console.log("targetId not found in DOM"),void 0;var c='<div class="btn-toolbar" role="toolbar">   <div class="btn-group btn-group-xs">       <button id="collapseButton" class="btn btn-default" type="button"><span class="ocb-icon icon-collapse"></span></button>   </div>   <div class="btn-group btn-group-xs">       <button id="layoutButton" class="btn btn-default dropdown-toggle" data-toggle="dropdown"  type="button" ><span class="ocb-icon icon-layout"></span><span class="caret"></button>       <ul id="layoutMenu" class="dropdown-menu" role="menu">       </ul>   </div>   <div class="btn-group btn-group-xs">       <button id="labelSizeButton" class="btn btn-default dropdown-toggle" data-toggle="dropdown"  type="button" ><span class="ocb-icon icon-label-size"></span><span class="caret"></button>       <ul id="labelSizeMenu" class="dropdown-menu" role="menu">       </ul>   </div>   <div class="btn-group btn-group-xs">       <button id="autoSelectButton" class="btn btn-default dropdown-toggle" data-toggle="dropdown"  type="button" ><span class="ocb-icon icon-auto-select"></span><span class="caret"></button>       <ul id="autoSelectMenu" class="dropdown-menu" role="menu">       </ul>   </div>   <div class="btn-group btn-group-xs">       <button id="backgroundButton" class="btn btn-default" type="button"><span class="ocb-icon icon-background-option"></span></button>   </div>   <div class="btn-group btn-group-xs" style="margin:0px 0px 0px 15px;">       <button id="zoomOutButton" class="btn btn-default btn-xs" type="button"><span class="ocb-icon ocb-icon-plus"></span></button>       <div id="progressBarCont" class="progress pull-left" style="width:120px;height:10px;margin:5px 2px 0px 2px;background-color: #d5d5d5">           <div id="progressBar" class="progress-bar" role="progressbar" aria-valuenow="45" aria-valuemin="0" aria-valuemax="100" style="width: 100%">           </div>       </div>       <button id="zoomInButton" class="btn btn-default btn-xs" type="button"><span class="ocb-icon ocb-icon-minus"></span></button>   </div>   <div class="btn-group btn-group-xs">       <button id="showOverviewButton" class="btn btn-default" type="button"><span class="ocb-icon icon-select"></span></button>   </div>   <div class="btn-group pull-right">       <div class="pull-left" style="height:22px;line-height: 22px;font-size:14px;">Search:&nbsp;</div>       <div class="input-group pull-left">           <input id="searchField" list="searchDataList" type="text" class="form-control" placeholder="..." style="padding:0px 4px;height:22px;width:100px">           <datalist id="searchDataList">           </datalist>       </div>       <button id="quickSearchButton" class="btn btn-default btn-xs" type="button"><span class="glyphicon glyphicon-search"></span></button>   </div></div>';this.targetDiv=$("#"+this.targetId)[0],this.div=$('<div id="tool-bar" class="gv-navigation-bar unselectable">'+c+"</div>")[0],$(this.targetDiv).append(this.div),this.collapseButton=$(this.div).find("#collapseButton"),this.layoutButton=$(this.div).find("#layoutButton"),this.layoutMenu=$(this.div).find("#layoutMenu"),this.labelSizeButton=$(this.div).find("#labelSizeButton"),this.labelSizeMenu=$(this.div).find("#labelSizeMenu"),this.autoSelectButton=$(this.div).find("#autoSelectButton"),this.autoSelectMenu=$(this.div).find("#autoSelectMenu"),this.backgroundButton=$(this.div).find("#backgroundButton"),this.progressBar=$(this.div).find("#progressBar")[0],this.progressBarCont=$(this.div).find("#progressBarCont")[0],this.zoomOutButton=$(this.div).find("#zoomOutButton")[0],this.zoomInButton=$(this.div).find("#zoomInButton")[0],this.showOverviewButton=$(this.div).find("#showOverviewButton"),this.searchField=$(this.div).find("#searchField")[0],this.searchDataList=$(this.div).find("#searchDataList")[0],this.quickSearchButton=$(this.div).find("#quickSearchButton"),$(this.collapseButton).click(function(a){b.trigger("collapseButton:click",{clickEvent:a,sender:{}})}),this._setLayoutMenu(),this._setLabelSizeMenu(),this._setAutoSelectMenu(),$(this.backgroundButton).click(function(a){b.trigger("backgroundButton:click",{clickEvent:a,sender:{}})}),$(this.zoomOutButton).click(function(){b._handleZoomOutButton()}),$(this.zoomInButton).click(function(){b._handleZoomInButton()}),$(this.progressBarCont).click(function(a){var c=a.clientX-$(this).offset().left;console.log("offsetX "+c),console.log("e.offsetX "+a.offsetX);var d=100/$(this).width()*c;b.zoomChanging||($(b.progressBar).width(c),b.zoomChanging=!0,setTimeout(function(){b._handleZoomSlider(d),b.zoomChanging=!1},500))}),$(this.showOverviewButton).click(function(){$(this).toggleClass("active"),b.trigger("showOverviewButton:change",{selected:$(this).hasClass("active"),sender:b})}),$(this.searchField).bind("keyup",function(a){var c=$(this).val();13===a.which&&b.trigger("search",{query:c,sender:b})}),$(this.quickSearchButton).click(function(){var a=$(b.searchField).val();b.trigger("search",{query:a,sender:b})}),this.rendered=!0},draw:function(){},_setLayoutMenu:function(){var a=this,b=["Dot","Neato","Twopi","Circo","Fdp","Sfdp","Random","Circle","Square"];for(var c in b){var d=$('<li role="presentation"><a tabindex="-1" role="menuitem">'+b[c]+"</a></li>")[0];$(this.layoutMenu).append(d),$(d).click(function(){a.trigger("layout:change",{option:$(this).text(),sender:a})
})}},_setLabelSizeMenu:function(){var a=this,b={None:0,Small:8,Medium:10,Large:12,"x-Large":16},c=["None","Small","Medium","Large","x-Large"];for(var d in c){var e=$('<li role="presentation"><a tabindex="-1" role="menuitem">'+c[d]+"</a></li>")[0];$(this.labelSizeMenu).append(e),$(e).click(function(){a.trigger("labelSize:change",{option:b[$(this).text()],sender:a})})}},_setAutoSelectMenu:function(){var a=this,b=["All Nodes","All Edges","Everything","Adjacent","Neighbourhood","Connected"];for(var c in b){var d=$('<li role="presentation"><a tabindex="-1" role="menuitem">'+b[c]+"</a></li>")[0];$(this.autoSelectMenu).append(d),$(d).click(function(){a.trigger("select:change",{option:$(this).text(),sender:a})})}},_handleZoomOutButton:function(){this._handleZoomSlider(Math.max(0,this.zoom-1)),$(this.progressBar).css("width",this.zoom+"%")},_handleZoomSlider:function(a){this.zoom=a,this.trigger("zoom:change",{zoom:this.zoom,sender:this})},_handleZoomInButton:function(){this._handleZoomSlider(Math.min(100,this.zoom+1)),$(this.progressBar).css("width",this.zoom+"%")}},EditionBar.prototype={render:function(a){var b=this;if(a&&(this.targetId=a),$("#"+this.targetId).length<1)return console.log("targetId not found in DOM"),void 0;var c='<div class="btn-toolbar" role="toolbar">   <div class="btn-group btn-group-xs">       <button id="selectButton" class="btn btn-default" type="button"><span class="ocb-icon icon-mouse-select"></span></button>   </div>   <div class="btn-group btn-group-xs">       <button id="addButton" class="btn btn-default" type="button"><span class="ocb-icon icon-add"></span></button>       <button id="linkButton" class="btn btn-default" type="button"><span class="ocb-icon icon-link"></span></button>       <button id="deleteButton" class="btn btn-default" type="button"><span class="ocb-icon icon-delete"></span></button>   </div>   <div class="btn-group btn-group-xs">       <button id="nodeShapeButton" class="btn btn-default dropdown-toggle" data-toggle="dropdown"  type="button" ><span class="ocb-icon icon-node-shape"></span><span class="caret"></button>        <ul id="nodeShapeMenu" class="dropdown-menu" role="menu"></ul>   </div>   <div class="btn-group btn-group-xs">        <button id="nodeSizeButton" class="btn btn-default dropdown-toggle" data-toggle="dropdown"  type="button" ><span class="ocb-icon icon-node-size"></span><span class="caret"></button>        <ul id="nodeSizeMenu" class="dropdown-menu" role="menu"></ul>   </div>   <div class="btn-group btn-group-xs">       <button id="nodeStrokeSizeButton" class="btn btn-default dropdown-toggle" data-toggle="dropdown"  type="button" ><span class="ocb-icon icon-stroke-size"></span><span class="caret"></button>       <ul id="nodeStrokeSizeMenu" class="dropdown-menu" role="menu"></ul>   </div>   <div class="btn-group btn-group-xs">   <div class="input-group">       <span class="input-group-addon" style="display:inline-block;width:40px;height:23px;padding:3px;"><span class="ocb-icon icon-fill-color"></span>&nbsp;&nbsp;#</span>       <input id="nodeColorField" class="form-control" type="text" style="padding:0px 4px;height:23px;width:60px;display:inline-block;">       <span class="input-group-addon" style="display:inline-block;width:25px;height:23px;padding:2px;">           <select id="nodeColorSelect"></select>       </span>   </div>   </div>   <div class="btn-group btn-group-xs">   <div class="input-group">       <span class="input-group-addon" style="display:inline-block;width:40px;height:23px;padding:3px;"><span class="ocb-icon icon-stroke-color"></span>&nbsp;&nbsp;#</span>       <input id="nodeStrokeColorField" class="form-control" type="text" style="padding:0px 4px;height:23px;width:60px;display:inline-block;">       <span class="input-group-addon" style="display:inline-block;width:25px;height:23px;padding:2px;">           <select id="nodeStrokeColorSelect"></select>       </span>   </div>   </div>   <div class="btn-group btn-group-xs">       <button id="nodeOpacityButton" class="btn btn-default dropdown-toggle" data-toggle="dropdown"  type="button" ><span class="ocb-icon icon-node-opacity"></span><span class="caret"></button>       <ul id="nodeOpacityMenu" class="dropdown-menu" role="menu"></ul>   </div>   <div class="btn-group" style="width:220px;margin-left: 5px">   <div class="input-group">       <input id="nodeNameField" type="text" class="form-control" placeholder="node name" style="padding:0px 4px;height:23px;width:100px">       <input id="nodeLabelField" type="text" class="form-control" placeholder="node label" style="padding:0px 4px;height:23px;width:100px">   </div>   </div>   <div class="btn-group btn-group-xs">       <button id="edgeShapeButton" class="btn btn-default dropdown-toggle" data-toggle="dropdown"  type="button" ><span class="ocb-icon icon-edge-type"></span><span class="caret"></button>       <ul id="edgeShapeMenu" class="dropdown-menu" role="menu"></ul>   </div>   <div class="btn-group btn-group-xs">       <input id="edgeColorField" type="text">   </div>   <div class="btn-group" style="width:110px;margin-left: 5px">   <div class="input-group">       <input id="edgeLabelField" type="text" class="form-control" placeholder="edge label" style="padding:0px 4px;height:23px;width:100px">   </div>   </div></div>';this.targetDiv=$("#"+this.targetId)[0],this.div=$('<div id="edition-bar" class="gv-navigation-bar unselectable">'+c+"</div>")[0],$(this.targetDiv).append(this.div),this.selectButton=$(this.div).find("#selectButton"),this.addButton=$(this.div).find("#addButton"),this.linkButton=$(this.div).find("#linkButton"),this.deleteButton=$(this.div).find("#deleteButton"),this.nodeShapeButton=$(this.div).find("#nodeShapeButton"),this.nodeSizeButton=$(this.div).find("#nodeSizeButton"),this.nodeStrokeSizeButton=$(this.div).find("#nodeStrokeSizeButton"),this.nodeOpacityButton=$(this.div).find("#nodeOpacityButton"),this.nodeShapeMenu=$(this.div).find("#nodeShapeMenu"),this.nodeSizeMenu=$(this.div).find("#nodeSizeMenu"),this.nodeStrokeSizeMenu=$(this.div).find("#nodeStrokeSizeMenu"),this.nodeOpacityMenu=$(this.div).find("#nodeOpacityMenu"),this.nodeColorField=$(this.div).find("#nodeColorField"),this.nodeColorSelect=$(this.div).find("#nodeColorSelect"),this.nodeStrokeColorField=$(this.div).find("#nodeStrokeColorField"),this.nodeStrokeColorSelect=$(this.div).find("#nodeStrokeColorSelect"),this.nodeNameField=$(this.div).find("#nodeNameField"),this.nodeLabelField=$(this.div).find("#nodeLabelField"),this.edgeShapeButton=$(this.div).find("#edgeShapeButton"),this.edgeShapeMenu=$(this.div).find("#edgeShapeMenu"),this.edgeColorField=$(this.div).find("#edgeColorField"),this.edgeLabelField=$(this.div).find("#edgeLabelField"),this._setColorSelect(this.nodeColorSelect),$(this.nodeColorSelect).simplecolorpicker({picker:!0}).on("change",function(){$(b.nodeColorField).val($(b.nodeColorSelect).val().replace("#","")).change()}),this._setColorSelect(this.nodeStrokeColorSelect),$(this.nodeStrokeColorSelect).simplecolorpicker({picker:!0}).on("change",function(){$(b.nodeStrokeColorField).val($(b.nodeStrokeColorSelect).val().replace("#","")).change()});var d=/^([A-Fa-f0-9]{6})$/;$(this.nodeColorField).on("change input",function(){var a=$(this).val();if(d.test(a)){var c="#"+$(this).val();b._checkSelectColor(c,b.nodeColorSelect),$(b.nodeColorSelect).simplecolorpicker("selectColor",c),b.trigger("nodeColorField:change",{value:c,sender:{}})}}),$(this.nodeStrokeColorField).on("change input",function(){var a=$(this).val();if(d.test(a)){var c="#"+$(this).val();b._checkSelectColor(c,b.nodeColorSelect),b.trigger("nodeStrokeColorField:change",{value:c,sender:{}})}}),$(this.edgeColorField).on("change input",function(){var a=$(this).val();if(d.test(a)){var c="#"+$(this).val();b._checkSelectColor(c,b.nodeColorSelect),b.trigger("edgeColorField:change",{value:c,sender:{}})}}),$(this.selectButton).click(function(a){b.trigger("selectButton:click",{clickEvent:a,sender:{}})}),$(this.addButton).click(function(a){b.trigger("addButton:click",{clickEvent:a,sender:{}})}),$(this.linkButton).click(function(a){b.trigger("linkButton:click",{clickEvent:a,sender:{}})}),$(this.deleteButton).click(function(a){b.trigger("deleteButton:click",{clickEvent:a,sender:{}})});var e={none:"1",low:"0.8",medium:"0.5",high:"0.2",invisible:"0"},f=["1","2","3","4","5","6","7","8","10","12","14","16","22","28","36","72"];this._setMenu("nodeShape",this.nodeShapeMenu,["circle","square","ellipse","rectangle"]),this._setMenu("nodeSize",this.nodeSizeMenu,f),this._setMenu("nodeStrokeSize",this.nodeStrokeSizeMenu,f),this._setMenu("opacity",this.nodeOpacityMenu,["none","low","medium","high","invisible"],e),this._setMenu("edgeShape",this.edgeShapeMenu,["directed","odirected","undirected","inhibited","dot","odot"]),$(this.nodeNameField).bind("keyup",function(a){13===a.which&&b.trigger("nodeNameField:change",{value:$(this).val(),sender:b})}),$(this.nodeLabelField).bind("keyup",function(a){13===a.which&&b.trigger("nodeLabelField:change",{value:$(this).val(),sender:b})}),$(this.edgeLabelField).bind("keyup",function(a){13===a.which&&b.trigger("edgeLabelField:change",{value:$(this).val(),sender:b})}),this.rendered=!0},_setMenu:function(a,b,c,d){var e=this;for(var f in c){var g=$('<li role="presentation"><a tabindex="-1" role="menuitem">'+c[f]+"</a></li>")[0];$(b).append(g),$(g).click(function(){var b=$(this).text();"undefined"!=typeof d&&(b=d[b]),e.trigger(a+":change",{value:b,sender:e})})}},_setColorSelect:function(a){var b=["cccccc","888888","ac725e","d06b64","f83a22","fa573c","ff7537","ffad46","42d692","16a765","7bd148","b3dc6c","fbe983","fad165","92e1c0","9fe1e7","9fc6e7","4986e7","9a9cff","b99aff","c2c2c2","cabdbf","cca6ac","f691b2","cd74e6","a47ae2"];for(var c in b){var d=$('<option value="#'+b[c]+'">#'+b[c]+"</option>")[0];$(a).append(d)}},_checkSelectColor:function(a,b){var c=$(b).find('option[value="'+a+'"]').length>0?!0:!1;if(!c){var d=$('<option value="'+a+'">'+a+"</option>")[0];$(b).append(d),$(this.nodeColorSelect).simplecolorpicker("destroy"),$(this.nodeColorSelect).simplecolorpicker({picker:!0})}},setNodeColor:function(a){this._checkSelectColor(a,this.nodeColorSelect),$(this.nodeColorSelect).simplecolorpicker("selectColor",a),$(this.nodeColorField).val($(this.nodeColorSelect).val().replace("#",""))},setNodeStrokeColor:function(a){this._checkSelectColor(a,this.nodeStrokeColorSelect),$(this.nodeStrokeColorSelect).simplecolorpicker("selectColor",a),$(this.nodeStrokeColorField).val($(this.nodeStrokeColorSelect).val().replace("#",""))}},NetworkSvgLayout.prototype={render:function(a){var b=this;return a&&(this.targetId=a),$("#"+this.targetId).length<1?(console.log("targetId not found in DOM"),void 0):(this.targetDiv=$("#"+this.targetId)[0],this.div=$('<div id="'+this.id+'" style="position:relative;"></div>')[0],$(this.targetDiv).append(this.div),this.svg=SVG.init(this.div,{id:"mainSVG",width:this.width,height:this.height}),this.defs=SVG.addChild(this.svg,"defs",{}),this.backgroundSvg=SVG.init(this.svg,{id:"backgroundSVG",width:this.width,height:this.height,x:0,y:0}),this.backgroundImage=SVG.addChildImage(this.backgroundSvg,{id:"backgroundImage",x:"0",y:"0",width:this.width,height:this.height}),this.canvasSVG=SVG.init(this.svg,{id:"svgCanvas",width:1e5,height:1e5,x:0,y:0}),this.scaleGroupSVG=SVG.addChild(this.canvasSVG,"g",{id:"scaleGroupSVG",transform:"scale("+this.scale+")"}),this.temporalLinkSvg=SVG.addChild(this.canvasSVG,"line",{x1:0,y1:0,x2:0,y2:0,stroke:"slategray",opacity:"1","stroke-width":2,cursor:"pointer"},0),this.selectAnimate=SVG.create("animate",{attributeType:"XML",attributeName:"opacity",from:"1",to:"0.6",dur:"2s",repeatCount:"indefinite"}),this.selectRect=SVG.addChild(this.canvasSVG,"rect",{x:0,y:0,width:0,height:0,"stroke-width":"2",stroke:"deepskyblue",opacity:"0.5",fill:"honeydew"}),$(this.svg).bind("mousedown.networkViewer",function(a){switch(a.preventDefault(),a.which){case 1:b.leftMouseDown(a)}}),$(this.svg).bind("mouseup.networkViewer",function(a){switch(a.which){case 1:b.leftMouseUp(a)}}),$(this.svg).bind("contextmenu.networkViewer",function(a){switch(a.preventDefault(),a.which){case 3:b.contextMenu(a)}}),void 0)},draw:function(){},setMode:function(a){switch(this.mode=a,a){case"add":this.svg.setAttribute("cursor","url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAABAhJREFUWMPVlW1Mm1UUx//tU14GyHTigI7SQcvYIkEJ06mouERMli3zA35YyFA/mKwkW6RjrJolJE0UI0RiRiRRE8I2MjKzgsmUlL2Q+cI2RgTWkTBkrAFXWiqU0tJCe8956ieJM3Ey00I8H885957f/d97zgXW2wYGBurWs76Smc19fX3mdQMgIqSlpdX19vZ+tF4KIDs7G+np6Se6u7s/WRcFAECtVkOtVn/Q1dXVsOYAzAxmhkajQVZWVm1HR0fDmgLIsgwiQjgchlarhVarrW1tbf1szQGEEFheXkZOTg50Ot3RlpaWz9cM4M9rkGUZAKDT6ZCXl/d+U1NTc8wBVCoVVCoVJEmCJEno7OwMWCyWX2w2W1gIcbi+vj5mEEohBBwOB6xWa8jj8SA5ORlElERE+2pqahJMJpNCCHG8rq5uQywAFG1tbREichHRm0R0rqysbKvL5cKNGzdOmUymd9fiDdwkol0Gg+EmERlHRkZQVFQEIUSl2WzeGHMAIcRrBoNhCgCqq6u/HR8fd83MzKC4uFhJRMaYA1RVVS391SGEOD40NAS9Xg8iOlpbWxsfSwDV3x1EdM5ms306ODg4zczfNzY2hmMJoPgvixovHdOxzBXE/DYxZZDMEEwuYj4tmM6ePNA+ETOAxks15cRys2azLjM/4xlsiEtBWA7DvTiN63d74Z793UlER75+57xlNftJj16cT+3Ul24q0pTAtezExOIYnEv3IakkFGbtgp/mHnPNufcW7NOP3b7w62jUFGi4WJPLMv/0bO5L6rz0QvzgvIhgIAgRISQmJiCCCEJyCDtSC3Bt7DLG7BPTguiVrsOX7z20C1YLwDIffHzjU+qtadvxs+sKlsQygmIJxuITqHr6GLyheXgWXLjuvIoXtu2GIp7Vgungv7bhagGIuVK7OR93FkYw65uFL+iDNzC/EnfYpyBCAQT8c7jvs6MkvwSCqfKR2/CfTDBtSYxLwqTfjrAcwofPf/xA/IvydgCAsacCDu89FDy5E4JpSxQVIASEH/6wD0ISD82NsAwFIhBMiKYCDsf8pD4lIQXeJQ+MP76HgNuHr976ZuXkAKBUKKFOzcaU2w5ickRNAcF0Ztjej+ykHERECAombHoi+YEcmSNQygpoUnPQfesKBNOZaCrQLoelQ/13r6pfzH0dfZNWkEww9lQgwgAQQbxSQmnuHliHv8OCf3GamNujNogGLCPzhfu3TXq83r0LIXf8q7o3oFLGIRQOIl4ZB13adhRmPAfrrQvoH70dIJkPDZtHr0V9FB/4ck+5YGpmiTJLd7yM9NRMIAL8Nj+FnqFe+BaDTpL5yLB51BKzz2j/yd06wVQhVj4jgmB2EfNplunssPnOBP4v9gezhEi+VkBYbwAAAABJRU5ErkJggg==), auto");break;case"join":this.svg.setAttribute("cursor","url(data:image/png;base64,), auto");break;case"delete":this.svg.setAttribute("cursor","url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAA85JREFUWMPVlV1IpFUYx//ved/R+Z7WprUmddZGiZgN1rwoiCiXLIhi79o+2LK6aIyl9SOdIBCEMFrLFgKjC8WuZAO1K/Gi3KgsWVkEeQ1CSFv3dWYKJ9cdnXfnec55u1g2+sR1m1F6Ls+B5//j//zPc4D9rrm5uZ791BdSyt6ZmZnefQNgZoTD4Z7p6em398sB1NTUoLKy8q3Jycl39sUBAIhEIohEIm9OTEyc3nMAKSWklKiurkZVVVXX6Ojo6T0FUEqBmVEoFBCNRhGNRruGh4ff33MAIoJt26itrUUsFusYHBw8s2cA18eglAIAxGIx1NfXnxoYGPiw5ACGYcAwDOi6Dl3XMT4+vjU2NnZhYWGhQEQn+/r6SgYhiAiWZWFqaupqNpuFz+cDM3uZ+cnOzs7yZDKpEVF3T0+PpxQA2sjIiMPMaWY+xsxnm5ubD6XTaczOzn6STCZb9iID55n5/kQicZ6Z203TRENDA4joRG9vb6jkAET0SCKRuAgAbW1tny0tLaUzmQwaGxsFM7eXHKC1tTX/xwMi6p6fn0ddXR2YuaOrq6uspAB/PWDmswsLC6mhoaELzPxBf39/YbdN7ZZXvDccwt02d95IRgH4tffeXfxH8RdfjjtMjyried+no1/t2oEdxXV9xRHClKc64n8Tf+GlOIQwRSBwRhG9tvnUsXuKBnBdHOXlgNsNCGFS68nfIfInWuLQNFP3+1AWDsMVDB5XBXose7RZFGUETme321FqCx6P0AIBqM1NqI0NKDt/WBFDE8IUwQBcwRBs6xKuptJSEXkqzn1ORcuAfL3d7UiZ0zweXQRDkJc3wL9m4RBDDwTgCgVhX7Jgp9PSYfJXnPvCLnoI6dVWt2KZE16vbhy4BZAKUApQErZlwU5nrol/OW3f1DPcqVwff2Q7RH5aX1cgCaysAMvLgJSwU2mlqHDD4jcFAACKKKZpEJAMEAHMADM0XQhVoNh/WkQ71fYzz8ehwdQ9XoAJiESAyB0AM8pDIeiGbqaP3BcvySLaOv5cXBOaaXh9cAWDyKfWYGcyUhFp7gMVwhe5HdupNLbX1lC4kjt85w/fLxbNga2nn41rmmYaHi9cAR/y1rW0qwL5HSLflmXJKz8uwxu+FZ5wGEaZy1w9dNeOThi7mPtB4TIARyFvpZD/OSMdYn/4269tAEjde8Sfs6ycUyjoLp8PmhBwpDwIYLFoI9h4/Ikm4XJN0+ZlpYh9t333zZ/SbtXf7XakzJUFArqdzR6tWf3pXNG/z/WHHm765YEH3f92vxqtdV+sqmnC/6V+A4wb/YzHvgVzAAAAAElFTkSuQmCC), auto");break;default:this.svg.setAttribute("cursor","default")}console.log(this.mode)},leftMouseDown:function(a){var b=this,c=a.target;switch(this.mode){case"add":var d=a.clientX-$(this.svg).offset().left,e=a.clientY-$(this.svg).offset().top;"vertex"!==$(c).attr("network-type")&&this.createVertex(d,e);break;case"select":var d=a.clientX-$(b.svg).offset().left,e=a.clientY-$(b.svg).offset().top;if("vertex"===$(c).attr("network-type")){var f=$(c).parent().parent(),g=$(f).find('circle[network-type="select-vertex"]').length>0?!0:!1;g||b.selectVertexByClick(f);var h=d,i=e;$(b.svg).bind("mousemove.networkViewer",function(a){a.preventDefault();var c=a.clientX-$(b.svg).offset().left,d=a.clientY-$(b.svg).offset().top,e=c-h,f=d-i;b._moveSelectedVertices(e,f),h=c,i=d})}else{var h=0,i=0;$(b.svg).bind("mousemove.networkViewer",function(a){a.preventDefault();var c=a.clientX-$(b.svg).offset().left,f=a.clientY-$(b.svg).offset().top,g=c-d,h=f-e,i=g>=0?d:d-Math.abs(g),j=h>=0?e:e-Math.abs(h);b.selectRect.setAttribute("x",i),b.selectRect.setAttribute("y",j),b.selectRect.setAttribute("width",Math.abs(g)),b.selectRect.setAttribute("height",Math.abs(h))})}break;case"join":if("vertex"===$(c).attr("network-type")){var j=$(c).parent().parent().attr("id"),k=b.network.getVertexById(j),l=b.network.getVertexConfig(k);null==b.joinSourceVertex?(b.joinSourceVertex=k,$(b.svg).bind("mousemove.networkViewer",function(a){a.preventDefault();var c=a.clientX-$(b.svg).offset().left,d=a.clientY-$(b.svg).offset().top;b.temporalLinkSvg.setAttribute("x1",l.coords.x),b.temporalLinkSvg.setAttribute("y1",l.coords.y),b.temporalLinkSvg.setAttribute("x2",c),b.temporalLinkSvg.setAttribute("y2",d)})):b.joinSourceVertex!==k&&(b.createEdge(b.joinSourceVertex,k),b.joinSourceVertex=null)}break;case"delete":if("vertex"===$(c).attr("network-type")){var j=$(c).parent().parent().attr("id"),k=b.network.getVertexById(j);this.removeVertex(k)}}},leftMouseUp:function(a){var b=this,c=a.target;switch(this.mode){case"add":$(b.svg).off("mousemove.networkViewer");break;case"select":if("vertex"!==$(c).attr("network-type")){var d=parseFloat(b.selectRect.getAttribute("x")),e=parseFloat(b.selectRect.getAttribute("y")),f=parseFloat(b.selectRect.getAttribute("width")),g=parseFloat(b.selectRect.getAttribute("height"));b.selectVerticesByCoords(d,e,f,g),b.selectRect.setAttribute("x",0),b.selectRect.setAttribute("y",0),b.selectRect.setAttribute("width",0),b.selectRect.setAttribute("height",0)}else{var h=$(c).parent().parent().attr("id"),i=b.network.getVertexById(h);this.network.getVertexAttributes(i,function(a){b.trigger("vertex:leftClick",{vertex:i,vertexConfig:b.network.getVertexConfig(i),attributes:a})})}$(b.svg).off("mousemove.networkViewer");break;case"join":"vertex"!==$(c).attr("network-type")&&(b.joinSourceVertex=null),null==b.joinSourceVertex&&($(b.svg).off("mousemove.networkViewer"),b.temporalLinkSvg.setAttribute("x1",0),b.temporalLinkSvg.setAttribute("y1",0),b.temporalLinkSvg.setAttribute("x2",0),b.temporalLinkSvg.setAttribute("y2",0));break;case"delete":"vertex"!==$(c).attr("network-type")}},contextMenu:function(a){var b=this,c=a.target;switch(this.mode){case"add":break;case"select":break;case"join":break;case"delete":}var d=a.clientX-$(this.svg).offset().left,e=a.clientY-$(this.svg).offset().top;if("vertex"===$(c).attr("network-type")){var f=$(c).parent().parent().attr("id"),g=b.network.getVertexById(f);b.network.getVertexAttributes(g,function(a){b.trigger("vertex:rightClick",{vertex:g,attributes:a,x:d,y:e})})}},selectVertexByClick:function(a){this._deselectAllVertices();var b=$(a).attr("id"),c=this.network.getVertexById(b);this._selectVertexSvg(c,a),this.selectedVertices=[c],this.selectedVerticesHash[c.id]=c},selectVerticesByCoords:function(a,b,c,d){this._deselectAllVertices();var e=this.network.graph.vertices;this.selectedVertices=[],this.selectedVerticesHash={};for(var f=0,g=e.length;g>f;f++){var h=e[f];if("undefined"!=typeof h){var i=$(this.svg).find('svg[id="'+h.id+'"]')[0],j=this.network.getVertexConfig(h);j.coords.x>=a&&j.coords.x<=a+c&&j.coords.y>=b&&j.coords.y<=b+d&&(this.selectedVertices.push(h),this.selectedVerticesHash[h.id]=h,this._selectVertexSvg(h,i))}}},_selectVertexSvg:function(a,b){{var c=this.network.getVertexConfig(a),d=$(b).children().first()[0],e=c.renderer.size+c.renderer.strokeSize,e=e+.3*e,f=e/2;SVG.addChild(d,"circle",{r:f,cx:f,cy:f,opacity:"0.5",fill:"#cccccc","network-type":"select-vertex"},0)}},_deselectAllVertices:function(){this.selectedVertices=[],this.selectedVerticesHash={},$(this.svg).find('circle[network-type="select-vertex"]').remove()},_moveSelectedVertices:function(a,b){for(var c=0,d=this.selectedVertices.length;d>c;c++){var e=this.selectedVertices[c],f=$(this.svg).find('svg[id="'+e.id+'"]')[0],g=this.network.getVertexConfig(e),h=parseFloat(f.getAttribute("x")),i=parseFloat(f.getAttribute("y"));f.setAttribute("x",h+a),f.setAttribute("y",i+b);var j=g.renderer.size+g.renderer.strokeSize,j=j+.3*j,k=j/2,l=h+a+k,m=i+b+k;g.setCoords(l,m);for(var n=0;n<e.edges.length;n++){var o=e.edges[n],p=this.network.getVertexConfig(o.source),q=this.network.getVertexConfig(o.target),r="undefined"!=typeof this.selectedVerticesHash[o.source.id],s="undefined"!=typeof this.selectedVerticesHash[o.target.id],t=$(this.scaleGroupSVG).find("#"+o.id)[0];r&&e===o.source&&(t.setAttribute("x1",p.coords.x),t.setAttribute("y1",p.coords.y)),s&&e===o.target&&(t.setAttribute("x2",q.coords.x),t.setAttribute("y2",q.coords.y))}}},createVertex:function(a,b){var c=new Vertex({name:this.createdVertexCount}),d=new VertexConfig({id:c.id,coords:{x:a,y:b},renderer:new DefaultVertexRenderer({})});this.createdVertexCount++,this.network.addVertex({vertex:c,vertexConfig:d,target:this.scaleGroupSVG})},createEdge:function(a,b){var c=new Edge({source:a,target:b}),d=new EdgeConfig({id:c.id,renderer:new DefaultEdgeRenderer({})});this.network.addEdge({edge:c,edgeConfig:d,target:this.scaleGroupSVG})},removeVertex:function(a){var b=$(this.svg).find('svg[id="'+a.id+'"]')[0];$(b).remove();for(var c=0;c<a.edges.length;c++){var d=a.edges[c];this.removeEdge(d)}this.network.removeVertex(a)},removeEdge:function(a){var b=$(this.scaleGroupSVG).find("#"+a.id)[0];$(b).remove()},setSelectedVerticesDisplayAttr:function(a,b){for(var c=0,d=this.selectedVertices.length;d>c;c++){var e=this.selectedVertices[c];if("undefined"!=typeof e){var f=$(this.svg).find('svg[id="'+e.id+'"]')[0],g=$(f).find('circle[network-type="select-vertex"]').length>0?!0:!1;$(f).remove();var h=this.network.getVertexConfig(e);h.renderer[a]=b,this.network.renderVertex(e,this.scaleGroupSVG);var f=$(this.svg).find('svg[id="'+e.id+'"]')[0];g&&this._selectVertexSvg(e,f);for(var i=0;i<e.edges.length;i++){var j=e.edges[i];if("undefined"!=typeof j){var k=$(this.scaleGroupSVG).find("#"+j.id)[0];$(k).remove(),this.drawEdge({edgeDisplay:this.network.getEdgeDisplay(j),edge:j})}}}}},drawGraph:function(){$(this.scaleGroupSVG).empty();for(var a=0;a<this.network.graph.vertices.length;a++){var b=this.network.graph.vertices[a];"undefined"!=typeof b&&this.network.renderVertex(b,this.scaleGroupSVG)}for(var a=0;a<this.network.graph.edges.length;a++){var c=this.network.graph.edges[a];"undefined"!=typeof c&&this.drawEdge({edgeDisplay:this.network.getEdgeDisplay(c),edge:c})}}},AttributeManager.prototype={_createDatabase:function(){var a=indexedDB.open(this.dbName);a.onerror=function(a){console.log(a)},a.onsuccess=function(a){console.log(a)},a.onupgradeneeded=function(a){var b=a.target.result,c=b.createObjectStore("attribute",{autoIncrement:!0}),d=b.createObjectStore("attributeNameId",{autoIncrement:!0});c.createIndex("name","name",{unique:!1}),c.createIndex("attrId","attrId",{unique:!1}),d.createIndex("name","name",{unique:!0})}},_deleteDatabase:function(){var a=indexedDB.deleteDatabase(this.dbName);a.onsuccess=function(a){console.log(a)},a.onerror=function(a){console.log(a)}},addAttribute:function(a,b,c,d){var e=indexedDB.open(this.dbName);e.onerror=function(a){console.log(a)},e.onsuccess=function(){var f=e.result,g=f.transaction(["attribute","attributeNameId"],"readwrite"),h=g.objectStore("attribute"),i=g.objectStore("attributeNameId"),j=i.add({name:b,type:c});j.onsuccess=function(b){for(var c=b.target.result,e=0;e<a.length;e++){var f=a[e];h.add({name:f.name,attrId:c,value:d})}}}},removeAttribute:function(a){var b=indexedDB.open(this.dbName);b.onerror=function(a){console.log(a)},b.onsuccess=function(){var c=b.result,d=c.transaction(["attribute","attributeNameId"],"readwrite"),e=d.objectStore("attribute"),f=d.objectStore("attributeNameId"),g=f.index("name");g.getKey(a).onsuccess=function(a){var b=a.target.result;f.delete(b);var c=e.index("attrId"),d=IDBKeyRange.only(b);c.openKeyCursor(d).onsuccess=function(a){var b=a.target.result;console.log(b),b&&(e.delete(b.primaryKey),b.continue())}}}},getVertexAttributes:function(a,b){var c={},d=indexedDB.open(this.dbName);d.onerror=function(a){console.log(a)},d.onsuccess=function(){var e=d.result,f=e.transaction(["attribute","attributeNameId"]),g=f.objectStore("attribute"),h=f.objectStore("attributeNameId"),i=g.index("name"),j=IDBKeyRange.only(a.name);i.openCursor(j).onsuccess=function(a){var d=a.target.result;if(d){var e=a.target.result.value.attrId,f=a.target.result.value.value;h.get(e).onsuccess=function(a){var b=a.target.result.name;c[b]=f},d.continue()}else b(c)}}}},CircosVertexRenderer.prototype={render:function(a){a.vertex,a.coords,a.target},drawLink:function(a){var b=a.angleStart1,c=a.angleEnd1,d=a.angleStart2,e=a.angleEnd2,f=a.coords,g="",h=(SVG._polarToCartesian(f.x,f.y,radius-20,b),SVG._polarToCartesian(f.x,f.y,f.radius-20,c)),i=(SVG._polarToCartesian(f.x,f.y,radius-20,d),SVG._polarToCartesian(f.x,f.y,radius-20,e));g+=SVG.describeArc(f.x,f.y,radius-20,b,c)+" ",g+=["Q",f.x,f.y,i.x,i.y," "].join(" "),g+=SVG.describeArc(f.x,f.y,radius-20,d,e)+" ",g+=["Q",f.x,f.y,h.x,h.y," "].join(" ");SVG.addChild(this.group,"path",{d:g,stroke:"red","stroke-width":2,opacity:1,fill:"crimson",visibility:"visible",opacity:.7,"z-index":10})}},DefaultEdgeRenderer.prototype={render:function(a){var b=a.edge,c=a.sourceCoords,d=a.targetCoords,e=a.targetRenderer,f=a.target,g=e.size/2+e.strokeSize/2,h="#arrow-"+this.shape+"-"+g+"-"+this.color;0==$(h).length&&this.addArrowShape(this.shape,g,this.color,this.size,f);SVG.addChild(f,"line",{id:b.id,x1:c.x,y1:c.y,x2:d.x,y2:d.y,stroke:this.color,"stroke-width":this.size,cursor:"pointer","marker-end":"url("+h+")","network-type":"edge"},0)},addArrowShape:function(a,b,c,d,e){var f=1/d;"undefined"==typeof c&&(c="#000000");var g="arrow-"+a+"-"+b+"-"+c,h=SVG.addChild(e,"marker",{id:g,orient:"auto",style:"overflow:visible;"});switch(a){case"directed":{SVG.addChild(h,"polyline",{transform:"scale("+f+") rotate(0) translate(0,0)",fill:c,stroke:c,"stroke-width":d,points:"-"+b+",0 "+(-b-14)+",-6 "+(-b-14)+",6 -"+b+",0"})}break;case"odirected":{SVG.addChild(h,"polyline",{transform:"scale(0.5) rotate(0) translate(0,0)",fill:c,stroke:"black",points:"-"+b+",0 "+(-b-14)+",-6 "+(-b-14)+",6 -"+b+",0"})}break;case"inhibited":{SVG.addChild(h,"rect",{transform:"scale(0.5) rotate(0) translate(0,0)",fill:c,stroke:"black",x:-b-6,y:-6,width:6,height:12})}break;case"dot":{SVG.addChild(h,"circle",{transform:"scale(0.5) rotate(0) translate(0,0)",fill:c,stroke:"black",cx:-b-6,cy:0,r:6})}break;case"odot":{SVG.addChild(h,"circle",{transform:"scale(0.5) rotate(0) translate(0,0)",fill:c,stroke:"black",cx:-b-6,cy:0,r:6})}}}},DefaultVertexRenderer.prototype={render:function(a){switch(this.shape){case"circle":this.drawCircleShape(a);break;case"square":this.drawSquareShape(a)}},drawCircleShape:function(a){var b=a.vertex,c=a.coords,d=a.target,e=this.size+this.strokeSize,e=e+.3*e,f=e/2,g=SVG.create("svg",{id:b.id,cursor:"pointer",x:c.x-f,y:c.y-f,"network-type":"vertex-svg"}),h=SVG.addChild(g,"g"),i=(SVG.addChild(h,"circle",{cx:f,cy:f,r:this.size/2,stroke:this.strokeColor,"stroke-width":this.strokeSize,fill:this.color,"network-type":"vertex"}),SVG.addChild(g,"text",{x:5,y:this.labelSize+e,"font-size":this.labelSize,fill:this.labelColor,"network-type":"vertexLabel"}));i.textContent=b.name,d.appendChild(g)},drawSquareShape:function(){}},EdgeConfig.prototype={render:function(a){this.renderer.render(a)}},Edge.prototype={getSource:function(){return this.source},setSource:function(a){this.source=a},getTarget:function(){return this.target},setTarget:function(a){this.target=a}},GraphLayout.prototype={_init:function(){for(var a in this.verticesList){var b=this.verticesList[a];"undefined"==typeof b.x&&(b.x=0),"undefined"==typeof b.y&&(b.y=0),"undefined"==typeof b.z&&(b.z=0),this.vertices[b.id]=b}},getRandomArbitrary:function(a,b){return Math.random()*(b-a)+a},applyRandom3d:function(){for(var a in this.vertices){var b=this.vertices[a];b.x=this.getRandomArbitrary(-300,300),b.y=this.getRandomArbitrary(-300,300),b.z=this.getRandomArbitrary(10,600)}},applySphereSurface:function(a){var b=200,c=Object.keys(this.vertices).length,d=0;for(var e in this.vertices){var f=this.vertices[e],g=Math.acos(-1+2*d/c),h=Math.sqrt(c*Math.PI)*g;f.x=b*Math.cos(h)*Math.sin(g),f.y=b*Math.sin(h)*Math.sin(g),f.z=b*Math.cos(g)+a,d++}},getRandom2d:function(){}},Graph.prototype={addEdge:function(a){if(null==a.source||null==a.target)return!1;this.addVertex(a.source),this.addVertex(a.target);var b=this.edges.push(a),c=b-1;return this.edgesIndex[a.id]=c,a.source.addEdge(a),a.target.addEdge(a),this.trigger("edge:add",{edge:a,graph:this}),this.numberOfEdges++,!0},addVertex:function(a){if(null==a)return!1;if(this.containsVertex(a))return!1;var b=this.vertices.push(a),c=b-1;return this.verticesIndex[a.id]=c,this.numberOfVertices++,this.trigger("vertex:add",{vertex:a,graph:this}),!0},removeEdge:function(a){if(null==a)return!1;if(!this.containsEdge(a))return!1;a.source.removeEdge(a),a.target.removeEdge(a);var b=this.edgesIndex[a.id];return delete this.edgesIndex[a.id],delete this.edges[b],this.trigger("edge:remove",{edge:a,graph:this}),this.numberOfEdges--,!0},removeVertex:function(a){if(null==a)return!1;if(!this.containsVertex(a))return!1;for(var b=0;b<a.edges.length;b++){var c=a.edges[b];c.source!==a&&c.source.removeEdge(c),c.target!==a&&c.target.removeEdge(c);var d=this.edgesIndex[c.id];delete this.edgesIndex[c.id],delete this.edges[d],this.trigger("edge:remove",{edge:c,graph:this})}a.removeEdges();var d=this.verticesIndex[a.id];return delete this.verticesIndex[a.id],delete this.vertices[d],this.trigger("vertex:remove",{vertex:a,graph:this}),this.numberOfVertices--,!0},containsEdge:function(a){return"undefined"!=typeof this.edgesIndex[a.id]?!0:!1},containsVertex:function(a){return"undefined"!=typeof this.verticesIndex[a.id]?!0:!1},getVertexById:function(a){return this.vertices[this.verticesIndex[a]]},addLayout:function(a){this.display.layouts[a.id]=a}},NetworkConfig.prototype={setVertexConfig:function(a){this.vertices[a.id]=a},getVertexConfig:function(a){return this.vertices[a.id]},setEdgeConfig:function(a){this.edges[a.id]=a},getEdgeConfig:function(a){return this.edges[a.id]}},Network.prototype={addVertex:function(a){var b=a.vertex,c=a.vertexConfig,d=a.target;this.graph.addVertex(b),this.setVertexConfig(c),this.renderVertex(b,d)},addEdge:function(a){var b=a.edge,c=a.edgeConfig,d=a.target;this.graph.addEdge(b),this.setEdgeConfig(c),this.renderEdge(b,d)},setVertexConfig:function(a){this.config.setVertexConfig(a)},setEdgeConfig:function(a){this.config.setEdgeConfig(a)},getVertexConfig:function(a){return this.config.getVertexConfig(a)},getEdgeConfig:function(a){return this.config.getEdgeConfig(a)},getVertexById:function(a){return this.graph.getVertexById(a)},removeVertex:function(a){this.graph.removeVertex(a)},renderVertex:function(a,b){var c=this.config.getVertexConfig(a);c.render({coords:c.coords,vertex:a,target:b})},renderEdge:function(a,b){var c=this.config.getEdgeConfig(a),d=this.config.getVertexConfig(a.source),e=this.config.getVertexConfig(a.target);c.render({sourceCoords:d.coords,targetCoords:e.coords,targetRenderer:e.renderer,edge:a,target:b})},addAttribute:function(a,b,c){this.attributeManager.addAttribute(this.graph.vertices,a,b,c)},removeAttribute:function(a){this.attributeManager.removeAttribute(a)},getVertexAttributes:function(a,b){this.attributeManager.getVertexAttributes(a,b)}},VertexConfig.prototype={setCoords:function(a,b,c){this.coords.x=a,this.coords.y=b,this.coords.z=c},getCoords:function(){return this.coords},render:function(a){this.renderer.render(a)}},Vertex.prototype={removeEdge:function(a){for(var b=0;b<this.edges.length;b++)if(this.edges[b].id===a.id){this.edges.splice(b,1);break}},removeEdges:function(){this.edges=[]},addEdge:function(a){this.edges.push(a)}},NetworkViewer.prototype={render:function(a){return a&&(this.targetId=a),$("#"+this.targetId).length<1?(console.log("targetId not found in DOM"),void 0):(this.targetDiv=$("#"+this.targetId)[0],this.div=$('<div id="'+this.id+'" class="bootstrap" style="height:100%;width:90%;border:1px solid lightgrey;position:relative;"></div>')[0],$(this.targetDiv).append(this.div),this.height=$(this.div).height(),this.width=$(this.div).width(),this.toolbarDiv=$('<div id="toolbar"></div>')[0],this.editionbarDiv=$('<div id="editionbar"></div>')[0],this.centerPanelDiv=$('<div id="centerpanel" style="postion:relative;"></div>')[0],this.statusbarDiv=$('<div id="statusbar"></div>')[0],$(this.div).append(this.toolbarDiv),$(this.div).append(this.editionbarDiv),$(this.div).append(this.centerPanelDiv),$(this.div).append(this.statusbarDiv),this.mainPanelDiv=$('<div id="mainpanel" style="postion:absolute;right:0px;height:100%;"></div>')[0],$(this.centerPanelDiv).append(this.mainPanelDiv),this.sidePanel&&(this.sidePanelDiv=$('<div id="sidepanel" style="postion:absolute;right:0px;height:100%;"></div>')[0],$(this.centerPanelDiv).append(this.sidePanelDiv)),this.overviewPanel&&(this.overviewPanelDiv=$('<div id="overviewpanel" style="postion:absolute;bottom:10px;right:10px;width:200px;height:200px;border:1px solid lightgrey;"></div>')[0],$(this.centerPanelDiv).append(this.overviewPanelDiv)),this.rendered=!0,void 0)
},draw:function(){return this.rendered?(this.toolBar=this._createToolBar($(this.toolbarDiv).attr("id")),this.editionBar=this._createEditionBar($(this.editionbarDiv).attr("id")),this.networkSvgLayout=this._createNetworkSvgLayout($(this.mainPanelDiv).attr("id")),this.contextMenu=this._createContextMenu(),void 0):(console.info("Genome Viewer is not rendered yet"),void 0)},_createToolBar:function(a){{var b=this;new ToolBar({targetId:a,autoRender:!0,handlers:{"collapseButton:click":function(a){console.log(a)},"layout:change":function(a){console.log(a),b.setLayout(a.option)},"labelSize:change":function(a){console.log(a),b.setLabelSize(a.option)},"select:change":function(a){console.log(a),b.select(a.option)},"backgroundButton:click":function(a){console.log(a)},"showOverviewButton:change":function(a){console.log(a)},"zoom:change":function(a){console.log(a.zoom)},search:function(a){console.log(a)}}})}return toolbar},_createEditionBar:function(a){var b=this,c=new EditionBar({targetId:a,autoRender:!0,handlers:{"selectButton:click":function(){b.networkSvgLayout.setMode("select")},"addButton:click":function(){b.networkSvgLayout.setMode("add")},"linkButton:click":function(){b.networkSvgLayout.setMode("join")},"deleteButton:click":function(){b.networkSvgLayout.setMode("delete")},"nodeShape:change":function(){},"nodeSize:change":function(a){b.networkSvgLayout.setSelectedVerticesDisplayAttr("size",parseInt(a.value))},"nodeStrokeSize:change":function(a){b.networkSvgLayout.setSelectedVerticesDisplayAttr("strokeSize",parseInt(a.value))},"opacity:change":function(a){b.networkSvgLayout.setSelectedVerticesDisplayAttr("opacity",parseInt(a.value))},"edgeShape:change":function(){},"nodeColorField:change":function(a){b.networkSvgLayout.setSelectedVerticesDisplayAttr("color",a.value)},"nodeStrokeColorField:change":function(a){b.networkSvgLayout.setSelectedVerticesDisplayAttr("strokeColor",a.value)},"edgeColorField:change":function(a){b.networkSvgLayout.setEdgeColor(a.value)},"nodeNameField:change":function(a){b.networkSvgLayout.setNodeName(a.value)},"edgeLabelField:change":function(a){b.networkSvgLayout.setEdgeLabel(a.value)},"nodeLabelField:change":function(a){b.networkSvgLayout.setNodeLabel(a.value)}}});return c},_createNetworkSvgLayout:function(a){var b=this,c=$(this.toolbarDiv).height(),d=$(this.editionbarDiv).height(),e=this.height-c-d,f=new NetworkSvgLayout({targetId:a,width:this.width,height:e,networkData:this.networkData,autoRender:!0,handlers:{"vertex:leftClick":function(a){console.log(a),b.editionBar.setNodeColor(a.vertexConfig.renderer.color),b.editionBar.setNodeStrokeColor(a.vertexConfig.renderer.strokeColor)},"vertex:rightClick":function(a){console.log(a),b._fillContextMenu(a),$(b.contextMenuDiv).css({display:"block",left:a.x,top:a.y})}}});return f.createVertex(100,100),f.createVertex(200,200),f.createVertex(300,300),f.createVertex(400,400),f},_createContextMenu:function(){var a=this,b='<div id="nvContextMenu" class="dropdown clearfix">    <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenu" style="display:block;position:static;margin-bottom:5px;">        <li><a tabindex="-1" href="#">Action</a></li>        <li class="divider"></li>        <li><a tabindex="-1" href="#">Separated link</a></li>    </ul></div>';this.contextMenuDiv=$(b)[0],$(this.div).append(this.contextMenuDiv),$(a.contextMenuDiv).bind("click.networkViewer",function(a){{var b=a.target;$(b).text()}}),$(document).bind("click.networkViewer",function(){$(a.contextMenuDiv).hide()})},_fillContextMenu:function(a){var b=this,c=a.attributes,d=a.vertex,e=$(this.contextMenuDiv).children().first()[0];$(e).empty();for(var f in c){var g=$('<li role="presentation"><a>'+c[f]+"</a></li>")[0];$(e).append(g)}var g=$('<li role="presentation"><input id="nodeColorField" type="text"></li>')[0],h=$('<li role="presentation"><a tabindex="-1" role="menuitem">Delete</a></li>')[0];$(e).append(h),$(h).bind("click.networkViewer",function(){b.networkSvgLayout.removeVertex(d)})},_createNetworkSvgOverview:function(a){var b=new NetworkSvg({targetId:a,width:200,height:60,networkData:this.networkData,autoRender:!0,handlers:{}});return b},setLayout:function(a,b){var c=b||this.networkData.getNodesList();switch(a){case"Circle":for(var d=this.calculateLayoutVertex(a,c.length),e=0,f=0;f<c.length;f++){var g=this.networkSvg.getWidth()*(.05+.85*d[e].x),h=this.networkSvg.getHeight()*(.05+.85*d[e].y);this.networkSvg.moveNode(c[f],g,h),e++}break;case"Square":for(var d=this.calculateLayoutVertex(a,c.length),e=0,f=0;f<c.length;f++){var g=this.networkSvg.getWidth()*(.05+.85*d[e].x),h=this.networkSvg.getHeight()*(.05+.85*d[e].y);this.networkSvg.moveNode(c[f],g,h),e++}break;case"Random":for(var f=0;f<c.length;f++){var g=this.networkSvg.getWidth()*(.05+.85*Math.random()),h=this.networkSvg.getHeight()*(.05+.85*Math.random());this.networkSvg.moveNode(c[f],g,h)}break;default:var i=this.networkData.toDot(),j="http://bioinfo.cipf.es/utils/ws/rest/network/layout/"+a+".coords",k=this;$.ajax({async:!1,type:"POST",url:j,dataType:"text",data:{dot:i},cache:!1,success:function(a){var b=JSON.parse(a);for(var c in b){var d=k.networkSvgLayout.getWidth()*(.05+.85*b[c].x),e=k.networkSvgLayout.getHeight()*(.05+.85*b[c].y);k.networkSvgLayout.moveNode(c,d,e)}}})}this.networkData.updateFromSvg(this.networkSvg.getNodeMetainfo())},select:function(a){switch(a){case"All Nodes":this.networkSvg.selectAllNodes();break;case"All Edges":this.networkSvg.selectAllEdges();break;case"Everything":this.networkSvg.selectAll();break;case"Adjacent":this.networkSvg.selectAdjacentNodes();break;case"Neighbourhood":this.networkSvg.selectNeighbourhood();break;case"Connected":this.networkSvg.selectConnectedNodes();break;default:console.log(a+" not yet defined")}},setLabelSize:function(a){this.networkSvg.setLabelSize(a)}};